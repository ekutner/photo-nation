---
weight: 100
title: "איך לשמור על מידע דיגיטלי"
#title_align: "left"
summary: כל מה שרציתם לדעת על יתירות וגיבוי 
date: 2021-01-15
draft: false

authors: 
  - admin

profile: false
math: true

# taxonomies
categories: 
  - "מושגים"

# tags:
#   - "Photos"
#   - "Game"
#   - "React"
#   - "Python"
#   - "New"

featured: true

---

אחת לשבוע בממוצע אני נתקל ברשתות החברתיות בעוד צלם או צלמת בפניקה. הדיסק הקשיח שלהם התקלקל, או שכרטיס הזיכרון עם התמונות שהם צילמו בחתונה של לקוחות אינו קריא, או שגנבו להם את המחשב עם כל התמונות. 
לא משנה מה הסיבה, כאשר מידע יקר ערך הולך לאיבוד אנשים מוכנים לשלם כמעט כל מחיר כדי להשיבו, אולם לא תמיד ניתן לעשות זאת. 
לעומת זאת, נקיטת צעדים מראש לגיבוי המידע, באופן שהולם את חשיבותו, יכולה למנוע אירועים לא נעימים שכאלו, להעניק שלוות נפש חשובה, ובסופו של דבר יוצאת גם הרבה יותר זולה.  
כאשר מדובר בתמונות יקרות ערך, או בכל מידע דיגיטלי חשוב אחר, צריך תמיד לזכור את חוק מרפי: "כל דבר שיכול להשתבש ישתבש בסופו של דבר ויעשה את זה בזמן הכי פחות מתאים". 
**אין שאלה האם תקלה תיקרה, השאלה היחידה היא מתי היא תיקרה.**  
לכן, בין אם אתם צלמים מקצועיים עם מחויבות ללקוחות, צלמים חובבים ששומרים קבצי RAW שיקרים ללבכם, או עסק קטן שמחזיק את כל רשימת הלקוחות שלו בקובץ אקסל, תמיד תשאלו את עצמם מה יקרה אם המידע הזה פתאום יעלם. 
אם הנזק שיגרם הוא כבד, חייבים לנקוט באמצעים המתאימים כדי להבטיח שזה לא יקרה.

## סוגי הנזק שיכולים להיגרם למידע דיגיטלי
מידע דיגיטלי חשוף לשני סוגים עיקריים של נזק:
1. **נזק פיזי** - כל סוג של פגיעה פיזית באמצעי האחסון של המידע. פגיעה כזו יכולה להגרם כתוצאה מבלאי טבעי או כתוצאה של אירוע "אלים" כלשהו. פגיעה שכזו יכולה יכולה להגרם מנפילה, שריפה, הצפה, גניבה וכו'.
   גם ללא שום אירוע חריג, לכל מכשיר יש תוחלת חיים וכל מכשיר מתקלקל בסופו של דבר כתוצאה של בלאי טבעי. כלל זה נכון הן לגבי דיסקים מגנטיים מסתובבים והן להתקני איחסון מסוג SSD.
   בדיסקים מגנטיים, בדרך כלל, המכניקה מתקלקלת ראשונה. כרטיסי זיכרון ודיסקים מסוג SSD מתבלים, בדרך כלל, לאחר שמיצו את ממספר מחזורי הכתיבה המקסימלי שלהם[^1].  
   שוב, לא משנה מה הסיבה, כל התקן איחסון יפסיק לעבוד בשלב כזה או אחר, אין שאלה האם זה יקרה, השאלה היחידה היא מתי.
2. **פגיעה לוגית** - פגיעה שמקלקלת את המידע עצמו אבל לא נובעת מפגם בהתקן האיחסון. הדוגמה הפשוטה ביותר לפגיעה כזו היא מחיקה בטעות של המידע.  
   פגיעה לוגית יכולה להגרם גם ע"י באג בתוכנה שגורם להשחתה (corruption), וכבר היו גרסאות של Lightroom שסבלו מבאגים כאלו, או ע"י תוכנה זדונית (Virus / Malware / Ransomware) שמוחקת או מצפינה את המידע עד לתשלום כופר.


## הדרכים להתמודדות עם הסיכון לאיבוד מידע
 קיימות מספר שיטות להתמודדות עם סיכונים של אובדן מידע אבל כולם מבוססים, בסופו של דבר על יתירות (Redundancy), כלומר שמירה של יותר מעותק אחד של המידע, בצורה כזו או אחרת.
 
### שיכפול (Replication)
שיכפול היא שיטה שבה שומרים מספר עותקים של המידע, **בזמן אמת, תוך כדי הכתיבה**, על מספר התקני אחסון במקביל. כל שינוי שנעשה במידע משוכפל מיד גם לעותקים האחרים.
באופן כזה, אם אחד מההתקנים התקלקל עדיין קיים לפחות עותק נוסף תקין על התקן אחר. חברות טכנולוגיה מחזיקות לפחות שלושה עותקים של המידע אבל לשימושים פרטיים שני עותקים מספיקים בהחלט. 
חשוב להבין שבגלל האופי המיידי של השיכפול הוא מתאים להתמודדות בעיקר עם קילקול של אמצעי האיחסון אבל הוא אינו מתאים להתמודדות עם מצבי נזק אחרים כמו שריפה או נזק לוגי כמו מחיקת המידע כי המחיקה תשוכפל גם היא להתקן הנוסף.  
מצלמות מקצועיות תומכות בשני כרטיסי זיכרון (Dual Memory Cards) שניתן להגדירם במצב גיבוי. כך כל תמונה, או סרט, נכתבים לשני הכרטיסים במקביל ואם אחד מהם מתקלקל עדיין קיים עותק תקין על השני.  
במערכות דיסקים השיטה מקובלת ליתירות היא שימוש בטכנולוגיית RAID העושה שימוש במספר דיסקים בו זמנית כדי לייצר יתירות של המידע. 
טכנלוגיית  RAID (Redundant Array of Independent Disks) בחלק במחשבי PC עם תמיכה ב-Intel Rapid Storage Technology, ואז ניתן להתקין מספר דיסקים פנימיים בתוך המחשב עצמו והגדירם כ-RAID, או במארזי דיסקים המתחברים לרשת הביתית מסוג NAS - Network Attached Storage.  
קיימות מספר תצורות נפוצות של הגדרות RAID וחשוב להבין את ההבדלים ביניהן:
|  RAID Level | תצורה  | מספר מינימלי של דיסקים | ניצולת נפח איחסון | יתרונות | חסרונות |
|------------:|-------:|-----------------------:|------------------:|--------:|--------:|
| RAID0       | המידע נפרש על כל הדיסקים במערך | 2 | 100% - כל הנפח משמש לאחסון המידע | משפר ביצועי קריאה וכתיבה כיוון שכל הדיסקים במערך תורמים לביצועים | **אינו מספק יתירות** |
| RAID1       | המידע משוכפל על זוגות של דיסקים במערך | 2 | 50% - חצי מהנפח מכיל מידע והחצי השני מכיל עותק נוסף של המידע | מספק יתירות גבוהה | יקר בגלל נצילות נפח נמוכה, ביצועים בינוניים כיוון שרק חצי מהדיסקים במערך תורמים לביצועים |
| RAID5       | המידע נפרש על כל הדיסקים במערך כשאחד הדיסקים משמש לצורך יתירות | 3 | $\frac{n-1}{n}$ - כלומר מאבדים את הנפח של דיסק אחד מכל הדיסקים במערך. במערך של 3 דיסקים הנצילות היא 66.6%. במערך של 5 דיסקים הנצילות היא 80% | פתרון זול, באופן יחסי, בגלל נצילות דיסקים יותר גבוהה | הכתיבה איטית מאוד, קריאה בינונית |
| RAID10      | שילוב של RAID0 ו-RAID1 - המידע משוכפל ונפרש על כל הדיסקים במערך | 4 | 50% | היתירות של RAID1 והביצועים הגבוהים של RAID0 | יקר בגלל נצילות נפח נמוכה ומספר מינימלי של 4 דיסקים |


### גיבוי מקןמי (Backup Local)
גיבוי שומר עותק **אסינכרוני** של המידע על אמצעי איחסון נוסף, כלומר המידע נשמר להתקן האיחסון הראשי ואז, לאחזר זמן כלשהו, שיכול להיות קצר או ארוך, המידע מגובה להתקן אחר.
החיסרון של שמירה אסינכרונית היא שהמידע בגיבוי כמעט אף פעם אינו עדכני ב-100% אבל היתרון הגדול של שיטה זו הוא שהיא מאפשרת שמירה של גירסאות רבות של הקבצים המגובים וכן שמירת גיבוי של קבצים שנמחקו מהתקן האיחסון הראשי. 
באופן כזה, אם התקן האיחסון התקלקל, או שקובץ נמחק בטעות, או הוצפן ע"י Ransomware, ניתן לשחזר את הגירסה התקינה האחרונה שלו מהגיבוי.  
גיבוי מקומי הוא גיבוי שמבוצע ונשמר ליד העותק הראשי של המידע. ניתן לבצע גיבוי מקומי לטייפ גיבוי מיוחד או לדיסק חיצוני. 
ניתן להעתיק את המידע באופן ידני או להשתמש בתוכנת גיבוי, שמנהלת את התהליך באופן אוטומטי ומבטיחה שמדיניות הגיבויים המוגדרת תבוצע באופן עיקבי.
{{< callout note >}}
אם משתמשים בגיבוי מקומי לדיסק חיצוני חשוב שלא להשאיר את הדיסק החיצוני מחובר למחשב כאשר לא מגבים, כדי למנוע מצב ש-Ransomware יצפין גם את הקבצים שעל הדיסק החיצוני. 
{{< /callout >}}


### גיבוי מרוחק (Offsite Backup) וגיבוי ענן (Cloud Backup)
גיבוי מרוחק מתייחס לשמירת עותק של המידע במיקום פיזי שונה מהמיקום של העותק הראשי שלו. המטרה היא למנוע מצב שבו גם העותק הראשי של המידע וגם הגיבוי יושמדו במקרה של פגיעה פיזית כמו שריפה או גניבה. 
למשל, אם דיסק גיבוי חיצוני מוחזק באותו חדר, או אפילו אותו בית, כמו המחשב אותו הוא מגבה אזי במקרה גניבה, סביר שיגנבו את שניהם ולא ישאר בידינו אף עותק. לכן חשוב תמיד להחזיק לפחות עותק אחד מרוחק.  
שירותי גיבוי ענן למיניהם נותנים פתרון טוב לבעיית הגיבוי המרוחק כיוון שהגיבוי נשמר מלכתחילה בענן, היכן שהוא לא חשוף לאותן פגיעות פיזיות אליהם חשוף העותק הראשי של המידע.
החיסרון העיקרי של גיבוי בענן הוא האיטיות היחסית שבה הוא מתבצע. אם יש לכם כמה טרהבייטים של מידע וקו אינטרנט סטנדרטי בישראל ידרשו כמה חודשים כדי להעלות את כל המידע לשירות הגיבוי ושיחזור יכול לקחת כמה ימים, במקרה הטוב. 
כל מידע חדש ידרוש גם הוא זמן ארוך יחסית עד שיסיים לעלות לענן.  
זו אינה סקירת מוצרים לכן לא אתייחס למוצרים ספציפיים אבל השיקולים העיקריים בבחירת שירות גיבוי ענן הם:
1. תוכנת גיבוי נוחה לשימוש שמאפשרת גיבוי אוטומטי ומיידי של קבצים חדשים או שינויים בקבצים קיימים.
2. שירות המאפשר שמירה של מספר רב של גירסאות של הקבצים, רצוי ללא הגבלה, כך תמיד תוכלו לחזור לגירסה תקינה אם הותקפתם ע"י Ransomware.
3. שירות התומך בהצפנה של המידע שלכם כך שאף אחד חוץ מכם לא יוכל לקרוא אותו.
4. נפח גיבוי המתאים לצרכים בעלות סבירה.

## איך אני מגבה את המידע שלי?
אני פרנואיד. זה קשור לנסיון המקצועי שלי בתחום התוכנה וה-cloud שלימד אותי שכל התקן ופתרון איחסון סופו להכשל. לכן אני לא סומך על אף פתרון יחיד:
* אני מצלם במצלמה עם שני כרטיסי זיכרון במצב של גיבוי. 
* בסוף יום צילום:
  * אם צילמתי בארץ  אני מעביר את התמונות למחשב מיד כשאני חוזר הביתה. במחשב מתחיל תהליך גיבוי אוטומטי שאתאר בהמשך.
  * אם צילמתי בחו"ל, בסוף כל יום אני מעתיק את כל התמונות לדיסק חיצוני אבל לא מוחק אותן מכרטיס הזיכרון של המצלמה. את הדיסק אני שומר בנפרד מהמצלמה ואפילו בנפרד מתיק הצילום שלי, כך שאם המצלמה תיפול לים או תיק הצילום יגנב לכל היותר   אפסיד את התמונות מהיום האחרון.
  * אם אני צופה שכרטיסי הזיכרון שברשותי לא יספיקו להכיל את כל התמונות שאצלם בטיול אני יוצא מראש עם שני דיסקים חיצוניים ומגבה לשניהם כך שאוכל למחוק את התמונות מכרטיסי הזיכרון תוך שמירה על המצאות של שני עותקים על שני הדיסקים.
* במחשב הראשי שלי, שהוא Desktop PC, יש לי מערך RAID1 פנימי שמשמש לאחסון העותר הראשי של המידע.
* דיסק פנימי גדול ופשוט נוסף משמש לגיבוי מקומי. אני משתמש בתוכנה שמגבה כל שינוי בדיסק הראשי לדיסק הגיבוי תוך מספר שניות אבל חשוב לשים לב שזהו גיבוי ולא שיכפול כך שמחיקות לא יגובו.
* דיסק חיצוני משמש לגיבוי Offsite. בדרך כלל הדיסק נשמר במקום העבודה ופעם החודש אני מביא אותו הביתה ומעתיק אליו את המידע מדיסק הגיבוי המקומי.
* בנוסף לכל אלו אני משתמש בשירות ענן שמגבה את כל המידע אליו.

### למה כל כך הרבה גיבויים?
אין ספק שאלו יותר גיבויים ממה שחובה להחזיק אבל יש פה שילוב של ניהול סיכונים עם שיקולי נוחות. אלו הסיכונים העיקריים וכיצד אני מתמודד איתם:
* **קילקול פיזי של דיסק ראשי** - זוהי הסיבה הנפוצה ביותר לאיבוד מידע. השימוש ב-RAID1 מאפשר לי להחליף דיסק תקול תוך דקות, ללא צורך להתעסק עם שיחזור ארוך ומייגע מגיבוי ולחזור לעבודה תוך זמן קצר.
* **נזק לוגי למידע** - לכאורה ניתן לסתפק בגיבוי ענן בלבד אבל הגיבוי המקומי מבטיח לי שכל הקבצים שהעלתי לדיסק הראשי מגובים מיד, כך שגם אם התקלה מתרחשת מיד אחר כך כבר קיים גיבוי, בניגוד לגיבוי ענן, שעלול לקחת שעות או ימים עד שיסתיים.
  גם השיחזור מהגיבוי המקומי מהיר משמעותית משיחזור משירות הענן.
* **נזק פיזי לעותק הראשי ולגיבוי המקומי - במצב כזה העדיפות הראשונה היא להוריד את הגיבוי משירות הענן, למרות שיתכן שמדובר בתהליך שיקח זמן רב, כיוון שהענן מכיל את הגיבוי הכי עדכני שנותר.
  כדי לזרז את התהליך אני יכול לשחזר את רוב המידע מהגיבוי המרוחק ולהשלים את החוסרים מהגיבוי בענן.
* **מתקפת Ransomware** - אם התוכנה הזדונית הצפינה רק את המידע בהתקן האיחסון הראשי ניתן לשחזר מהגיבוי. אם היא הצפינה את המידע גם בהתקן הגיבוי זהו מצב זהה למצב שבסעיף הקודם.  
* **נזק פיזי לעותק הראשי ולגיבוי המקומי ושירות הענן לא פועל** - זה אולי נשמע לא סביר, אבל בהחלט יכול לקרות שהמידע שהעלתם לשירות הענן לא יהיה שם בשעת הצורך. 
  למשל, אם משום מה השירות לא הצליח לחייב את כרטיס האשראי שלכם, תוך מספר ימים הוא ימחק את כל הגיבויים שלכם. 
  גם אם תחדשו את התשלום, בשלב הזה, יהיה צורך להעלות שוב את כל המידע מחדש ומשמעות הדבר היא שוב מספר חודשים ללא גיבוי מלא. 
  למצב כזה קיים העותק הנוסף שמוחזק במשרד, המידע עליו אומנם לא הכי עדכני אבל לכל היותר רק השיניים מהחודש האחרון ילכו לאיבוד, שזה עדיף בהרבה על אובדן מלא של המידע. 

## ניהול סיכונים
בסופו של דבר כל אחד צריך להחליט מה חשיבות המידע שברשותו, מה מידת הנזק שתגרם אם המידע יפגע ומה הסיכונים שהוא מוכן לקחת לגביו. 


[^1]: להתקני זיכרון מסוג Flash למיניהם, כמו כרטיסי זיכרון ודיסקים SSD יש מספר מוגבל של מחזורי כתיבה בהם הם מסוגלים לעמוד. 
      בהתאם לטכנולוגיה בהם הם יוצרו מספר המחזורים יכול לנוע בין כמה מאות לכמה אלפים. 
	  כמובן שהטכנולוגיות שמאפשרות מספר מחזורי כתיבה גדול יותר הן גם יקרות יותר ולכן בדרך כלל יש מתאם בין מחיר התקן הזיכרון לתוחלת החיים הצפויה ממנו.